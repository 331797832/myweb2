import{aH as Y,a as I,m as r,o as s,w as m,e as H,Q as ee,aI as ae,u as t,T as te,y as V,c as p,r as P,l as L,k as ie,b as f,h as B,p as c,ai as se,i as v,q as g,t as S,f as ne,ae as oe,n as le,x as de,Z as re,ao as _}from"./index-BcF5HDHR.js";import{_ as M,u as U,w as x,b as ce,d as ue}from"./base-DqTxmgqC.js";import{ag as ve,j as k,i as C,R as N,Q as A,U as $,S as pe,c as w,_ as fe,O as me,$ as he,V as ye,a as ge,E as h,t as be,a0 as Te}from"./el-button-CDEsYjZV.js";const $e=(i="")=>i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Oe=i=>Y(i),we=I({name:"ElCollapseTransition"}),ke=I({...we,setup(i){const E=U("collapse-transition"),u=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},n={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){u(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){u(e)},leaveCancelled(e){u(e)}};return(e,O)=>(s(),r(te,ee({name:t(E).b()},ae(n)),{default:m(()=>[H(e.$slots,"default")]),_:3},16,["name"]))}});var Ie=M(ke,[["__file","collapse-transition.vue"]]);const ze=x(Ie),Ee=i=>["",...ve].includes(i),Ve=ce({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Ee},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:w},activeActionIcon:{type:w},activeIcon:{type:w},inactiveIcon:{type:w},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ue(Function)},id:String,tabindex:{type:[String,Number]},...pe(["ariaLabel"])}),Pe={[$]:i=>k(i)||V(i)||C(i),[A]:i=>k(i)||V(i)||C(i),[N]:i=>k(i)||V(i)||C(i)},R="ElSwitch",Be=I({name:R}),Se=I({...Be,props:Ve,emits:Pe,setup(i,{expose:E,emit:u}){const n=i,{formItem:e}=fe(),O=me(),o=U("switch"),{inputId:q}=he(n,{formItemContext:e}),b=ye(p(()=>n.loading)),z=P(n.modelValue!==!1),y=P(),Q=P(),j=p(()=>[o.b(),o.m(O.value),o.is("disabled",b.value),o.is("checked",l.value)]),G=p(()=>[o.e("label"),o.em("label","left"),o.is("active",!l.value)]),W=p(()=>[o.e("label"),o.em("label","right"),o.is("active",l.value)]),Z=p(()=>({width:ge(n.width)}));L(()=>n.modelValue,()=>{z.value=!0});const D=p(()=>z.value?n.modelValue:!1),l=p(()=>D.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(D.value)||(u($,n.inactiveValue),u(A,n.inactiveValue),u(N,n.inactiveValue)),L(l,a=>{var d;y.value.checked=a,n.validateEvent&&((d=e==null?void 0:e.validate)==null||d.call(e,"change").catch(X=>Te()))});const T=()=>{const a=l.value?n.inactiveValue:n.activeValue;u($,a),u(A,a),u(N,a),re(()=>{y.value.checked=l.value})},F=()=>{if(b.value)return;const{beforeChange:a}=n;if(!a){T();return}const d=a();[_(d),k(d)].includes(!0)||be(R,"beforeChange must return type `Promise<boolean>` or `boolean`"),_(d)?d.then(K=>{K&&T()}).catch(K=>{}):d&&T()},J=()=>{var a,d;(d=(a=y.value)==null?void 0:a.focus)==null||d.call(a)};return ie(()=>{y.value.checked=l.value}),E({focus:J,checked:l}),(a,d)=>(s(),f("div",{class:v(t(j)),onClick:de(F,["prevent"])},[B("input",{id:t(q),ref_key:"input",ref:y,class:v(t(o).e("input")),type:"checkbox",role:"switch","aria-checked":t(l),"aria-disabled":t(b),"aria-label":a.ariaLabel,name:a.name,"true-value":a.activeValue,"false-value":a.inactiveValue,disabled:t(b),tabindex:a.tabindex,onChange:T,onKeydown:se(F,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!a.inlinePrompt&&(a.inactiveIcon||a.inactiveText)?(s(),f("span",{key:0,class:v(t(G))},[a.inactiveIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.inactiveIcon)))]),_:1})):c("v-if",!0),!a.inactiveIcon&&a.inactiveText?(s(),f("span",{key:1,"aria-hidden":t(l)},S(a.inactiveText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),B("span",{ref_key:"core",ref:Q,class:v(t(o).e("core")),style:le(t(Z))},[a.inlinePrompt?(s(),f("div",{key:0,class:v(t(o).e("inner"))},[a.activeIcon||a.inactiveIcon?(s(),r(t(h),{key:0,class:v(t(o).is("icon"))},{default:m(()=>[(s(),r(g(t(l)?a.activeIcon:a.inactiveIcon)))]),_:1},8,["class"])):a.activeText||a.inactiveText?(s(),f("span",{key:1,class:v(t(o).is("text")),"aria-hidden":!t(l)},S(t(l)?a.activeText:a.inactiveText),11,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),B("div",{class:v(t(o).e("action"))},[a.loading?(s(),r(t(h),{key:0,class:v(t(o).is("loading"))},{default:m(()=>[ne(t(oe))]),_:1},8,["class"])):t(l)?H(a.$slots,"active-action",{key:1},()=>[a.activeActionIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.activeActionIcon)))]),_:1})):c("v-if",!0)]):t(l)?c("v-if",!0):H(a.$slots,"inactive-action",{key:2},()=>[a.inactiveActionIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.inactiveActionIcon)))]),_:1})):c("v-if",!0)])],2)],6),!a.inlinePrompt&&(a.activeIcon||a.activeText)?(s(),f("span",{key:1,class:v(t(W))},[a.activeIcon?(s(),r(t(h),{key:0},{default:m(()=>[(s(),r(g(a.activeIcon)))]),_:1})):c("v-if",!0),!a.activeIcon&&a.activeText?(s(),f("span",{key:1,"aria-hidden":!t(l)},S(a.activeText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0)],10,["onClick"]))}});var Ce=M(Se,[["__file","switch.vue"]]);const De=x(Ce);export{ze as E,De as a,Oe as c,$e as e};
